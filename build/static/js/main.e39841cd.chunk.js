(window["webpackJsonpreact-posts"]=window["webpackJsonpreact-posts"]||[]).push([[0],{31:function(e,t,r){e.exports=r(50)},41:function(e,t,r){},43:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){},50:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(19),s=r.n(c),o=r(11),u=r(15),l=r(14),i=r(6),m=r(7),p=r(12),E=r(10),d=r(13),f=(r(41),function(e){var t=e.post,r=t.title,c=t.userId,s=t.id;return a.a.createElement(n.Fragment,null,a.a.createElement("h4",null,r),a.a.createElement("p",{className:"btn btn-secondary"},a.a.createElement(u.b,{to:"/post-page/".concat(s)},"Read more")),a.a.createElement("p",{className:"btn btn-warning"},a.a.createElement(u.b,{to:"/user-page/".concat(c)},"User link")))}),h=a.a.createContext(),b=h.Provider,v=h.Consumer,y=function(){return function(e){return function(t){return a.a.createElement(v,null,function(r){return a.a.createElement(e,Object.assign({},t,{postsService:r}))})}}},S=function(e,t){return function(){t({type:"FETCH_POSTS_REQUEST"}),e.getPosts().then(function(e){return t({type:"FETCH_POSTS_SUCCESS",payload:e})}).catch(function(e){return t({type:"FETCH_USERS_FAILURE",payload:e})})}},g=function(e,t){return function(){t({type:"FETCH_USERS_REQUEST"}),e.getUsers().then(function(e){return t({type:"FETCH_USERS_SUCCESS",payload:e})}).catch(function(e){return t({type:"FETCH_USERS_FAILURE",payload:e})})}},C=function(e,t){return function(){t({type:"FETCH_COMMENTS_REQUEST"}),e.getComments().then(function(e){return t({type:"FETCH_COMMENTS_SUCCESS",payload:e})}).catch(function(e){return t({type:"FETCH_COMMENTS_FAILURE",payload:e})})}},O=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},_=(r(43),function(){return a.a.createElement("div",{className:"lds-css"},a.a.createElement("div",{className:"lds-double-ring"},a.a.createElement("div",null),a.a.createElement("div",null)))}),T=(r(44),function(){return a.a.createElement("div",null,"Error!")}),w=(r(45),function(e){var t=e.posts;return a.a.createElement("ul",{className:"post-list"},t.map(function(e){return a.a.createElement("li",{className:"list-group-item list-group-item-action",key:e.id},a.a.createElement(f,{post:e}))}))}),N=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"render",value:function(){var e=this.props,t=e.posts,r=e.loading,n=e.error;return r?a.a.createElement(_,null):n?a.a.createElement(T,null):a.a.createElement(w,{posts:t})}}]),t}(n.Component),j=O(y(),Object(o.b)(function(e){var t=e.postList;return{posts:t.posts,loading:t.loading,error:t.error}},function(e,t){var r=t.postsService;return{fetchPosts:S(r,e)}}))(N),U=function(){return a.a.createElement(j,null)},F=(r(46),function(e){var t=e.posts,r=e.comments,n=e.itemId;return a.a.createElement("div",null,t.map(function(e){var t=e.title,c=e.id,s=e.body;return c===Number(n)?a.a.createElement("div",{key:e.id,className:"card text-white bg-primary mb-3"},a.a.createElement("h2",{className:"card-header"},t),a.a.createElement("div",{className:"card-body"},a.a.createElement("p",{className:"card-text"},s)),r.map(function(e){var t=e.postId,r=e.name,n=e.body,s=e.email;return c===Number(t)?a.a.createElement("div",{key:e.id,className:"card text-white bg-secondary mb-3"},a.a.createElement("p",{className:"card-header"},s),a.a.createElement("div",{className:"card-body"},a.a.createElement("p",{className:"card-title"},r),a.a.createElement("p",{className:"card-text"},n))):null})):null}))}),k=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts(),this.props.fetchComments()}},{key:"render",value:function(){var e=this.props,t=e.posts,r=e.loading,n=e.error,c=e.comments;return r?a.a.createElement(_,null):n?a.a.createElement(T,null):a.a.createElement(F,{posts:t,comments:c,itemId:this.props.itemId})}}]),t}(n.Component),R=O(y(),Object(o.b)(function(e){var t=e.postList.posts,r=e.commentList,n=r.comments;return{posts:t,loading:r.loading,error:r.error,comments:n}},function(e,t){var r=t.postsService;return{fetchPosts:S(r,e),fetchComments:C(r,e)}}))(k),I=function(e){var t=e.itemId;return a.a.createElement(n.Fragment,null,a.a.createElement(R,{itemId:t}))},H=(r(47),function(e){var t=e.users,r=e.userId;return a.a.createElement("div",null,t.map(function(e){var t=e.name,n=e.id,c=e.username,s=e.address,o=e.phone,u=e.website;return n===Number(r)?a.a.createElement("div",{key:e.id},a.a.createElement("table",{className:"table table-hover"},a.a.createElement("tbody",null,a.a.createElement("tr",{className:"table-primary"},a.a.createElement("th",{scope:"row"},"Name"),a.a.createElement("td",null,t)),a.a.createElement("tr",{className:"table-primary"},a.a.createElement("th",{scope:"row"},"Username"),a.a.createElement("td",null,c)),a.a.createElement("tr",{className:"table-primary"},a.a.createElement("th",{scope:"row"},"Phone"),a.a.createElement("td",null,o)),a.a.createElement("tr",{className:"table-primary"},a.a.createElement("th",{scope:"row"},"Website"),a.a.createElement("td",null,u)),a.a.createElement("tr",{className:"table-primary"},a.a.createElement("th",{scope:"row"},"City"),a.a.createElement("td",null,s.city)),a.a.createElement("tr",{className:"table-primary"},a.a.createElement("th",{scope:"row"},"Street"),a.a.createElement("td",null,s.street)),a.a.createElement("tr",{className:"table-primary"},a.a.createElement("th",{scope:"row"},"Suite"),a.a.createElement("td",null,s.suite)),a.a.createElement("tr",{className:"table-primary"},a.a.createElement("th",{scope:"row"},"Zipcode"),a.a.createElement("td",null,s.zipcode))))):null}))}),x=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"render",value:function(){var e=this.props,t=e.users,r=e.loading,n=e.error;return r?a.a.createElement(_,null):n?a.a.createElement(T,null):a.a.createElement(H,{users:t,userId:this.props.userId})}}]),t}(n.Component),L=O(y(),Object(o.b)(function(e){var t=e.userList;return{users:t.users,loading:t.loading,error:t.error}},function(e,t){var r=t.postsService;return{fetchUsers:g(r,e)}}))(x),M=function(e){var t=e.userId;return a.a.createElement(n.Fragment,null,a.a.createElement(L,{userId:t}))},P=(r(48),function(){return a.a.createElement(l.c,null,a.a.createElement(l.a,{path:"/",component:U,exact:!0}),a.a.createElement(l.a,{path:"/post-page/:id",render:function(e){var t=e.match.params.id;return a.a.createElement(I,{itemId:t})}}),a.a.createElement(l.a,{path:"/user-page/:id",render:function(e){var t=e.match.params.id;return a.a.createElement(M,{userId:t})}}))}),A=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(a)))).state={hasError:!1},r}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?a.a.createElement(T,null):this.props.children}}]),t}(n.Component),Q=r(9),D=r.n(Q),B=r(18),J=function(){function e(){Object(i.a)(this,e),this._apiBase="https://jsonplaceholder.typicode.com"}return Object(m.a)(e,[{key:"getResource",value:function(){var e=Object(B.a)(D.a.mark(function e(t){var r;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase).concat(t));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t)+", received ".concat(r.status));case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getPosts",value:function(){var e=Object(B.a)(D.a.mark(function e(){var t;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/posts/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getUsers",value:function(){var e=Object(B.a)(D.a.mark(function e(){var t;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/users/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getComments",value:function(){var e=Object(B.a)(D.a.mark(function e(){var t;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/posts/{postId}/comments/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),z=r(20),W=function(e,t){if(void 0===e)return{posts:[],loading:!0,error:null};switch(t.type){case"FETCH_POSTS_REQUEST":return{posts:[],loading:!0,error:null};case"FETCH_POSTS_SUCCESS":return{posts:t.payload,loading:!1,error:null};case"FETCH_POSTS_FAILURE":return{posts:[],loading:!1,error:t.payload};default:return e.postList}},Z=function(e,t){if(void 0===e)return{users:[],loading:!0,error:null};switch(t.type){case"FETCH_USERS_REQUEST":return{users:[],loading:!0,error:null};case"FETCH_USERS_SUCCESS":return{users:t.payload,loading:!1,error:null};case"FETCH_USERS_FAILURE":return{users:[],loading:!1,error:t.payload};default:return e.userList}},q=function(e,t){if(void 0===e)return{comments:[],loading:!0,error:null};switch(t.type){case"FETCH_COMMENTS_REQUEST":return{comments:[],loading:!0,error:null};case"FETCH_COMMENTS_SUCCESS":return{comments:t.payload,loading:!1,error:null};case"FETCH_COMMENTS_FAILURE":return{comments:[],loading:!1,error:t.payload};default:return e.commentList}},G=function(e,t){return{postList:W(e,t),commentList:q(e,t),userList:Z(e,t)}},K=Object(z.b)(G),V=new J;s.a.render(a.a.createElement(o.a,{store:K},a.a.createElement(A,null,a.a.createElement(b,{value:V},a.a.createElement(u.a,null,a.a.createElement(P,null))))),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.e39841cd.chunk.js.map